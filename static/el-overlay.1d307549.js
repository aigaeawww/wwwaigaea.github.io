import{a2 as de,h as W,bp as fe,i as me,b9 as X,K as ve,a7 as q,cg as pe,b8 as ne,bz as J,w as G,b_ as ye,by as be,$ as ge,bA as Ce,bO as V,a3 as Z,aj as j,d as _,v as H,aM as E,ap as Ee,aR as Te,a6 as Se,am as Q,g as L,o as R,c as U,b as K,I as S,e as o,t as ke,x as M,C as F,U as he,ad as we,B as P,m as se,ag as le,ch as Ae,bw as De,bB as Me,r as k,aO as Le,n as Ie,bg as Be,ci as Oe,cj as ee,aP as Ne,aq as Re,D as _e,aI as $e,bn as Ye,E as ze,T as He,bR as Ue,ai as Ke}from"./entry.f105df37.js";import{g as xe,F as Ve,E as Xe}from"./verification.fd8b49e2.js";import{t as Ge,U as ae}from"./el-input.b010e971.js";import{g as oe,d as te}from"./use-form-item.ecbcfbcd.js";const je=(...e)=>t=>{e.forEach(l=>{de(l)?l(t):l.value=t})};var x=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(x||{});const Fe=(e,t,l)=>{let s={offsetX:0,offsetY:0};const a=n=>{const u=n.clientX,v=n.clientY,{offsetX:f,offsetY:b}=s,m=e.value.getBoundingClientRect(),d=m.left,C=m.top,I=m.width,$=m.height,Y=document.documentElement.clientWidth,B=document.documentElement.clientHeight,z=-d+f,O=-C+b,h=Y-d-I+f,w=B-C-$+b,N=T=>{const r=Math.min(Math.max(f+T.clientX-u,z),h),g=Math.min(Math.max(b+T.clientY-v,O),w);s={offsetX:r,offsetY:g},e.value.style.transform=`translate(${X(r)}, ${X(g)})`},p=()=>{document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",p)};document.addEventListener("mousemove",N),document.addEventListener("mouseup",p)},c=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",a)},i=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",a)};W(()=>{fe(()=>{l.value?c():i()})}),me(()=>{i()})},Pe=(e,t={})=>{ve(e)||Ge("[useLockscreen]","You need to pass a ref param to this function");const l=t.ns||q("popup"),s=pe(()=>l.bm("parent","hidden"));if(!ne||J(document.body,s.value))return;let a=0,c=!1,i="0";const n=()=>{setTimeout(()=>{Ce(document==null?void 0:document.body,s.value),c&&document&&(document.body.style.width=i)},200)};G(e,u=>{if(!u){n();return}c=!J(document.body,s.value),c&&(i=document.body.style.width),a=xe(l.namespace.value);const v=document.documentElement.clientHeight<document.body.scrollHeight,f=ye(document.body,"overflowY");a>0&&(v||f==="scroll")&&c&&(document.body.style.width=`calc(100% - ${a}px)`),be(document.body,s.value)}),ge(()=>n())},re=e=>{if(!e)return{onClick:V,onMousedown:V,onMouseup:V};let t=!1,l=!1;return{onClick:i=>{t&&l&&e(i),t=l=!1},onMousedown:i=>{t=i.target===i.currentTarget},onMouseup:i=>{l=i.target===i.currentTarget}}},We=Z({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:j([String,Array,Object])},zIndex:{type:j([String,Number])}}),qe={click:e=>e instanceof MouseEvent},Ze="overlay";var Je=_({name:"ElOverlay",props:We,emits:qe,setup(e,{slots:t,emit:l}){const s=q(Ze),a=u=>{l("click",u)},{onClick:c,onMousedown:i,onMouseup:n}=re(e.customMaskEvent?void 0:a);return()=>e.mask?H("div",{class:[s.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:c,onMousedown:i,onMouseup:n},[E(t,"default")],x.STYLE|x.CLASS|x.PROPS,["onClick","onMouseup","onMousedown"]):Ee("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[E(t,"default")])}});const Qe=Je,ie=Symbol("dialogInjectionKey"),ue=Z({center:Boolean,alignCenter:Boolean,closeIcon:{type:Te},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),eo={close:()=>!0},oo=["aria-label"],to=["id"],no=_({name:"ElDialogContent"}),so=_({...no,props:ue,emits:eo,setup(e){const t=e,{t:l}=Se(),{Close:s}=Ae,{dialogRef:a,headerRef:c,bodyId:i,ns:n,style:u}=Q(ie),{focusTrapRef:v}=Q(Ve),f=L(()=>[n.b(),n.is("fullscreen",t.fullscreen),n.is("draggable",t.draggable),n.is("align-center",t.alignCenter),{[n.m("center")]:t.center},t.customClass]),b=je(v,a),m=L(()=>t.draggable);return Fe(a,c,m),(d,C)=>(R(),U("div",{ref:o(b),class:S(o(f)),style:se(o(u)),tabindex:"-1"},[K("header",{ref_key:"headerRef",ref:c,class:S(o(n).e("header"))},[E(d.$slots,"header",{},()=>[K("span",{role:"heading",class:S(o(n).e("title"))},ke(d.title),3)]),d.showClose?(R(),U("button",{key:0,"aria-label":o(l)("el.dialog.close"),class:S(o(n).e("headerbtn")),type:"button",onClick:C[0]||(C[0]=I=>d.$emit("close"))},[H(o(we),{class:S(o(n).e("close"))},{default:M(()=>[(R(),F(he(d.closeIcon||o(s))))]),_:1},8,["class"])],10,oo)):P("v-if",!0)],2),K("div",{id:o(i),class:S(o(n).e("body"))},[E(d.$slots,"default")],10,to),d.$slots.footer?(R(),U("footer",{key:0,class:S(o(n).e("footer"))},[E(d.$slots,"footer")],2)):P("v-if",!0)],6))}});var lo=le(so,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const ao=Z({...ue,appendToBody:Boolean,beforeClose:{type:j(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),ro={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ae]:e=>De(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},io=(e,t)=>{const s=Be().emit,{nextZIndex:a}=Me();let c="";const i=oe(),n=oe(),u=k(!1),v=k(!1),f=k(!1),b=k(e.zIndex||a());let m,d;const C=Le("namespace",Oe),I=L(()=>{const y={},D=`--${C.value}-dialog`;return e.fullscreen||(e.top&&(y[`${D}-margin-top`]=e.top),e.width&&(y[`${D}-width`]=X(e.width))),y}),$=L(()=>e.alignCenter?{display:"flex"}:{});function Y(){s("opened")}function B(){s("closed"),s(ae,!1),e.destroyOnClose&&(f.value=!1)}function z(){s("close")}function O(){d==null||d(),m==null||m(),e.openDelay&&e.openDelay>0?{stop:m}=ee(()=>p(),e.openDelay):p()}function h(){m==null||m(),d==null||d(),e.closeDelay&&e.closeDelay>0?{stop:d}=ee(()=>T(),e.closeDelay):T()}function w(){function y(D){D||(v.value=!0,u.value=!1)}e.beforeClose?e.beforeClose(y):h()}function N(){e.closeOnClickModal&&w()}function p(){ne&&(u.value=!0)}function T(){u.value=!1}function r(){s("openAutoFocus")}function g(){s("closeAutoFocus")}function A(y){var D;((D=y.detail)==null?void 0:D.focusReason)==="pointer"&&y.preventDefault()}e.lockScroll&&Pe(u);function ce(){e.closeOnPressEscape&&w()}return G(()=>e.modelValue,y=>{y?(v.value=!1,O(),f.value=!0,b.value=e.zIndex?b.value++:a(),Ie(()=>{s("open"),t.value&&(t.value.scrollTop=0)})):u.value&&h()}),G(()=>e.fullscreen,y=>{t.value&&(y?(c=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=c)}),W(()=>{e.modelValue&&(u.value=!0,f.value=!0,O())}),{afterEnter:Y,afterLeave:B,beforeLeave:z,handleClose:w,onModalClick:N,close:h,doClose:T,onOpenAutoFocus:r,onCloseAutoFocus:g,onCloseRequested:ce,onFocusoutPrevented:A,titleId:i,bodyId:n,closed:v,style:I,overlayDialogStyle:$,rendered:f,visible:u,zIndex:b}},uo=["aria-label","aria-labelledby","aria-describedby"],co=_({name:"ElDialog",inheritAttrs:!1}),fo=_({...co,props:ao,emits:ro,setup(e,{expose:t}){const l=e,s=Ne();te({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!s.title)),te({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},L(()=>!!l.customClass));const a=q("dialog"),c=k(),i=k(),n=k(),{visible:u,titleId:v,bodyId:f,style:b,overlayDialogStyle:m,rendered:d,zIndex:C,afterEnter:I,afterLeave:$,beforeLeave:Y,handleClose:B,onModalClick:z,onOpenAutoFocus:O,onCloseAutoFocus:h,onCloseRequested:w,onFocusoutPrevented:N}=io(l,c);Re(ie,{dialogRef:c,headerRef:i,bodyId:f,ns:a,rendered:d,style:b});const p=re(z),T=L(()=>l.draggable&&!l.fullscreen);return t({visible:u,dialogContentRef:n}),(r,g)=>(R(),F(Ue,{to:"body",disabled:!r.appendToBody},[H(He,{name:"dialog-fade",onAfterEnter:o(I),onAfterLeave:o($),onBeforeLeave:o(Y),persisted:""},{default:M(()=>[_e(H(o(Qe),{"custom-mask-event":"",mask:r.modal,"overlay-class":r.modalClass,"z-index":o(C)},{default:M(()=>[K("div",{role:"dialog","aria-modal":"true","aria-label":r.title||void 0,"aria-labelledby":r.title?void 0:o(v),"aria-describedby":o(f),class:S(`${o(a).namespace.value}-overlay-dialog`),style:se(o(m)),onClick:g[0]||(g[0]=(...A)=>o(p).onClick&&o(p).onClick(...A)),onMousedown:g[1]||(g[1]=(...A)=>o(p).onMousedown&&o(p).onMousedown(...A)),onMouseup:g[2]||(g[2]=(...A)=>o(p).onMouseup&&o(p).onMouseup(...A))},[H(o(Xe),{loop:"",trapped:o(u),"focus-start-el":"container",onFocusAfterTrapped:o(O),onFocusAfterReleased:o(h),onFocusoutPrevented:o(N),onReleaseRequested:o(w)},{default:M(()=>[o(d)?(R(),F(lo,$e({key:0,ref_key:"dialogContentRef",ref:n},r.$attrs,{"custom-class":r.customClass,center:r.center,"align-center":r.alignCenter,"close-icon":r.closeIcon,draggable:o(T),fullscreen:r.fullscreen,"show-close":r.showClose,title:r.title,onClose:o(B)}),Ye({header:M(()=>[r.$slots.title?E(r.$slots,"title",{key:1}):E(r.$slots,"header",{key:0,close:o(B),titleId:o(v),titleClass:o(a).e("title")})]),default:M(()=>[E(r.$slots,"default")]),_:2},[r.$slots.footer?{name:"footer",fn:M(()=>[E(r.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):P("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,uo)]),_:3},8,["mask","overlay-class","z-index"]),[[ze,o(u)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var mo=le(fo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const go=Ke(mo),Co=_({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:t,attrs:l}){const s=k(!1);return W(()=>{s.value=!0}),a=>{var u;if(s.value)return(u=t.default)==null?void 0:u.call(t);const c=t.fallback||t.placeholder;if(c)return c();const i=a.fallback||a.placeholder||"",n=a.fallbackTag||a.placeholderTag||"span";return U(n,l,i)}}});export{go as E,Co as _,Qe as a,Pe as b,re as c,Fe as u};
