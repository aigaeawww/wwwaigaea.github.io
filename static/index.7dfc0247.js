import{d as ut,r as N,h as at,A as gt,D as he,E as de,e as T,o as z,c as U,F as _t,H as bt,m as Lt,b as u,z as Ot,I as Tt,t as K,B as ue,M as Bt,L as pe,k as Nt,l as jt,Z as me,$ as fe,w as Pt,_ as lt,n as qt,g as mt,G as _e,O as Qt,v as V,x as ct,q as Jt,a0 as be,a1 as ge,T as St}from"./entry.f105df37.js";import{_ as yt}from"./plugin-vueexport-helper.c27b6911.js";import{a as ye,V as I,S as te,P as ee,W as oe,C as At,b as q,B as ve,c as ft,F as Q,d as xt,A as Dt,e as Et,R as we,f as xe,M as Ee,g as Pe,h as dt,i as ht,Q as Wt,j as Gt,k as Me,l as Te,G as Ct,m as Se,n as Ae,o as Kt,p as Zt,q as De,L as Ce,r as ke,D as Re,s as Ie}from"./three.module.d82afe78.js";import{_ as se}from"./nuxt-link.20421bf8.js";import{f as kt,s as ne,i as Le}from"./utils.6576f7a5.js";import{_ as Oe}from"./Footer.vuevuetypescriptsetuptruelang.cd3876f6.js";import{a as Ne}from"./dict.6e5b07a6.js";const je={class:"w-[80%] h-full fixed top-0 left-[50%] -translate-x-1/2 pointer-events-none z-[30] overflow-hidden"},ze=["src"],Ue=ut({__name:"Snowflake",setup(s){const t=N([]),e=N(!0),o=()=>{const r=["/images/snowflake/snowflake1.png","/images/snowflake/snowflake1.png"];for(let c=0;c<30;c++){const l={image:r[Math.floor(Math.random()*r.length)],size:Math.random()*1+.5,left:Math.random()*100,animationDuration:Math.random()*3+3,animationDelay:Math.random()*3};t.value.push(l)}},n=()=>{e.value=window.scrollY<=300};return at(()=>{o(),window.addEventListener("scroll",n)}),gt(()=>{window.removeEventListener("scroll",n)}),(i,r)=>he((z(),U("div",je,[(z(!0),U(_t,null,bt(T(t),(c,l)=>(z(),U("div",{key:l,class:"snowflake -top-[200px]",style:Lt({left:c.left+"vw",animationDuration:c.animationDuration+"s",animationDelay:c.animationDelay+"s"})},[u("img",{src:c.image,style:Lt({width:c.size+"em",height:c.size+"em"})},null,12,ze)],4))),128))],512)),[[de,T(e)]])}});const He=yt(Ue,[["__scopeId","data-v-f0da0ee9"]]),ie=s=>(Nt("data-v-942272e0"),s=s(),jt(),s),$e={class:"w-[230px] h-full flex flex-col items-center space-y-4 overflow-auto"},Fe=["onClick","onMouseenter"],Ye={class:"status-bar flex items-center pl-3 py-1 border-b border-[#ebebeb6a]"},Be={class:"flex items-center space-x-1"},We={class:"text-xs font-mono text-[#ebebeba9]"},Ge={class:"h-4 overflow-hidden flex space-x-1 scale-50"},Ke={class:"pl-4 pr-4 pt-2"},Ze={class:"w-[45px] aspect-[1/1] ml-2"},Ve=["src"],Xe={class:"w-full border-b border-[#ebebeb6a] text-[16px] font-sans pb-1 pt-2"},qe={class:"text-[10px] pt-2 text-[#ebebeba9]"},Qe=ie(()=>u("div",{class:"-rotate-45 absolute bottom-1 right-1"},[u("svg",{t:"1764221985831",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"22906",width:"22",height:"22",fill:"#ebebeba9"},[u("path",{d:"M498.660674 837.827548L222.210914 561.377788c-12.496698-12.496698-32.758136-12.496698-45.254834 0-12.497405 12.497405-12.496698 32.758136 0 45.254834l331.014362 331.014362c12.496698 12.496698 32.757429 12.497405 45.254834 0l341.795619-339.143969c12.496698-12.496698 12.496698-32.758136 0-45.254834-12.496698-12.496698-32.758136-12.496698-45.254834 0l-287.10586 284.454209L562.627675 98.273758c0-17.673427-14.32669-32.000117-32.000118-32.000117-17.67272 0.000707-31.99941 14.327398-32.000117 32.000117l0.032527 739.553083z","p-id":"22907"})])],-1)),Je={class:"w-[210px] border border-[#2B2B2B] rounded-lg relative z-30 flex items-center justify-between px-3"},to=ie(()=>u("span",{class:"iconfont icon-wangluo text-[20px] text-[#ebebeba9] cursor-not-allowed"},null,-1)),eo=ut({__name:"Elm",emits:["update:particle"],setup(s,{emit:t}){const e=Ot(),o=N(!1),n=N([{title:"AUDIOVISUAL",details:"Camera-based micro-expression sensing with on-device, real-time facial expression analysis to deeply understand people's reactions and emotions.",img:"/images/dashboard/AS2.png",status:"LINKED",random:Math.floor(Math.random()*14+2)},{title:"LANGUAGE",details:"From text dialogue, surface emotion intent/empathy cues and deliver measurable empathy to AI.",img:"/images/dashboard/AS3.png",status:"LINKED",random:Math.floor(Math.random()*14+1)},{title:"PHYSIOLOGICAL",details:"Continuous,cross-device acquisition of physiological data, producing actionable emotion labels and events to support large-model training and evaluation.",img:"/images/dashboard/AS1.png",status:"MAINTENANCE",random:70}]),i=l=>{l==="LANGUAGE"&&(e.setTrainingMenu("emotion"),Bt("/training")),l==="PHYSIOLOGICAL"&&window.open("https://smart.aigaea.net","_blank"),l==="AUDIOVISUAL"&&Bt("/audioVisual")},r=async()=>{try{if(o.value=!0,!await c()){pe.warning("Please install the plugin first"),setTimeout(()=>{window.open("https://chromewebstore.google.com/detail/gaea-extension/cpjicfogbgognnifjgmenmaldnmeeeib","_blank")},2e3);return}}catch{}finally{o.value=!1}},c=()=>new Promise(async l=>{const y=new CustomEvent("requestPluginVersion",{detail:{type:"REQUEST_PLUGIN_VERSION",gaea_plugin_token:e.getToken,gaea_plugin_status:"1"}});localStorage.setItem("gaea_plugin_status","1"),localStorage.setItem("gaea_plugin_token",e.getToken),await window.dispatchEvent(y);const g=x=>{x.data.type==="FROM_CONTENT_SCRIPT_VERSION"&&(window.removeEventListener("message",g),l(!0))};window.addEventListener("message",g),setTimeout(()=>{window.removeEventListener("message",g),l(!1)},1e3)});return at(()=>{e.setParticles(0)}),(l,y)=>(z(),U("div",$e,[(z(!0),U(_t,null,bt(T(n),(g,x)=>(z(),U("div",{class:Tt(["w-full h-[220px] img-container cursor-pointer border-1 border-[#ebebeb6a] hover:border-none duration-700 rounded-lg pb-8 relative",T(e).getParticles===x?"particle border-none":""]),key:x,onClick:C=>i(g.title),onMouseenter:C=>T(e).setParticles(x)},[u("div",Ye,[u("div",Be,[u("div",{class:Tt(["w-2 h-2 rounded-full",{"bg-green-500":g.status==="LINKED","bg-gradient-to-br from-white via-[#ebebeb] to-black":g.status==="MAINTENANCE","bg-red-500":g.status==="DISCONNECTED"}])},null,2),u("span",We,K(g.status),1)]),u("div",Ge,[x!==2?(z(),U(_t,{key:0},bt(14,C=>u("div",{class:Tt(["w-1 h-full",C<g.random?"bg-white":"bg-[#ebebeb6a]"])},null,2)),64)):ue("",!0)])]),u("div",Ke,[u("div",Ze,[u("img",{src:g.img,alt:"",class:"w-full h-full object-contain"},null,8,Ve)]),u("div",Xe,K(g.title),1),u("div",qe,K(g.details),1),Qe])],42,Fe))),128)),u("div",Je,[to,u("span",{class:"iconfont icon-chrome text-[20px] text-[#ebebeba9] hover:scale-110 duration-500 cursor-pointer hover:text-[#ebebeb]",onClick:y[0]||(y[0]=g=>r())}),u("span",{class:"iconfont icon-ID text-[23px] text-[#ebebeba9] hover:scale-110 duration-500 cursor-pointer hover:text-[#ebebeb]",onClick:y[1]||(y[1]=g=>l.$router.push("/godhoodId"))}),u("div",{class:"bg-[#27272A] border border-[#2B2B2B] py-1 px-4 text-[12px] font-[600] hover:scale-110 duration-500 cursor-pointer text-[#ebebeb]",onClick:y[2]||(y[2]=g=>l.$router.push("/engine"))}," ENGINE ")])]))}});const oo=yt(eo,[["__scopeId","data-v-942272e0"]]);function so(s){return me()?(fe(s),!0):!1}function ae(s){return typeof s=="function"?s():T(s)}const no=typeof window<"u",io=()=>{};function ao(s){var t;const e=ae(s);return(t=e==null?void 0:e.$el)!=null?t:e}const ro=no?window:void 0;function lo(...s){let t,e,o,n;if(typeof s[0]=="string"||Array.isArray(s[0])?([e,o,n]=s,t=ro):[t,e,o,n]=s,!t)return io;Array.isArray(e)||(e=[e]),Array.isArray(o)||(o=[o]);const i=[],r=()=>{i.forEach(g=>g()),i.length=0},c=(g,x,C,E)=>(g.addEventListener(x,C,E),()=>g.removeEventListener(x,C,E)),l=Pt(()=>[ao(t),ae(n)],([g,x])=>{r(),g&&i.push(...e.flatMap(C=>o.map(E=>c(g,C,E,x))))},{immediate:!0,flush:"post"}),y=()=>{l(),r()};return so(y),y}const co={id:"container",class:"w-full h-full absolute top-0 left-0 cursor-pointer"},nt=5e3,Rt=0,pt=5e3,ho=.03,uo={__name:"Particle",setup(s){const t=Ot();let e,o,n,i,r,c,l,y,g=null,x=0,C=!1,E=0,L=null;Pt(()=>t.getParticles,a=>{a!==void 0&&a>=0&&a<B.length&&(S(a),x=a)},{deep:!0});function O(a,h){if(a.length===0)return[];const d=new ve().setFromPoints(a),p=Math.max(...d.getSize(new I).toArray())||1,m=d.getCenter(new I);return a.map(_=>_.clone().sub(m).multiplyScalar(h/p))}function S(a){if(!c||!l)return;const h=B[a](nt),d=c.geometry.attributes.position.array,p=l.geometry.attributes.position.array;for(let m=0;m<nt;m++){const _=m*3,f=h[m]||new I;d[_]=f.x,d[_+1]=f.y,d[_+2]=f.z,m<Rt&&(p[_]=f.x,p[_+1]=f.y,p[_+2]=f.z)}c.geometry.attributes.position.needsUpdate=!0,l.geometry.attributes.position.needsUpdate=!0}function F(a){const h=new ye(10,3,200,16,2,3),d=[],p=h.attributes.position;for(let _=0;_<p.count;_++)d.push(new I().fromBufferAttribute(p,_));const m=[];for(let _=0;_<a;_++)m.push(d[_%d.length].clone());return O(m,55)}function it(a){const h=[];let d=.1,p=.1;const m=1.4,_=-2.3,f=2.4,P=-2.1;for(let A=0;A<a;A++){const k=Math.sin(m*p)-Math.cos(_*d),b=Math.sin(f*d)-Math.cos(P*p);d=k,p=b;const w=Math.sin(d*p*.5);h.push(new I(d,p,w))}return O(h,50)}function et(a){const h=[];for(let P=0;P<a*.85;P++){const k=Math.floor(Math.random()*6)*12-6*12/2+Math.random()*12,b=k+6*12/2,w=40-(40-2)*b/(6*12),M=Math.random()*Math.PI*2,X=Math.random()*w,st=Math.cos(M)*X,rt=Math.sin(M)*X;h.push(new I(st,k,rt))}for(let P=0;P<a*.15;P++){const A=-36+Math.random()*7-3.5,k=Math.random()*Math.PI*2,b=Math.random()*4,w=Math.cos(k)*b,M=Math.sin(k)*b;h.push(new I(w,A,M))}for(h.push(new I(0,6*12/2+5,0));h.length<a;)h.push(new I((Math.random()-.5)*20,(Math.random()-.5)*40,(Math.random()-.5)*20));return O(h,55)}const B=[et,it,F];function ot(){const a=new ft,h=new Float32Array(pt*3),d=new Float32Array(pt*3),p=new Float32Array(pt),m=new Float32Array(pt),_=900;for(let P=0;P<pt;P++){const A=P*3,k=Math.random()*2*Math.PI,b=Math.acos(2*Math.random()-1),w=_*Math.cbrt(Math.random());h[A]=w*Math.sin(b)*Math.cos(k),h[A+1]=w*Math.sin(b)*Math.sin(k),h[A+2]=w*Math.cos(b);const M=new At().setHSL(Math.random()*.6,.3+.3*Math.random(),.55+.35*Math.random());d[A]=M.r,d[A+1]=M.g,d[A+2]=M.b,p[P]=.25+Math.pow(Math.random(),4)*2.1,m[P]=Math.random()*Math.PI*2}a.setAttribute("position",new Q(h,3)),a.setAttribute("color",new Q(d,3)),a.setAttribute("size",new Q(p,1)),a.setAttribute("random",new Q(m,1));const f=new xt({uniforms:{time:{value:0}},vertexShader:`
      attribute float size;
      attribute float random;
      varying vec3 vColor;
      varying float vRnd;
      void main(){
        vColor = color;
        vRnd = random;
        vec4 mv = modelViewMatrix * vec4(position, 1.);
        gl_PointSize = size * (250./-mv.z);
        gl_Position = projectionMatrix * mv;
      }
    `,fragmentShader:`
      uniform float time;
      varying vec3 vColor;
      varying float vRnd;
      void main(){
        vec2 uv = gl_PointCoord-.5;
        float d = length(uv);
        float a = 1.-smoothstep(.4,.5,d);
        a *= .7+.3*sin(time*(.6+vRnd*.3)+vRnd*5.);
        if(a<.02)discard;
        gl_FragColor = vec4(vColor,a);
      }
    `,transparent:!0,depthWrite:!1,vertexColors:!0,blending:Dt});return new Et(a,f)}function H(a,h){const d=new ft,p=new Float32Array(a*3),m=new Float32Array(a*3),_=new Float32Array(a),f=new Float32Array(a*3);for(let A=0;A<a;A++){const k=A*3,b=h[Math.random()*h.length|0],w={h:0,s:0,l:0};b.getHSL(w),w.h+=(Math.random()-.5)*.05,w.s=Math.min(1,Math.max(.7,w.s+(Math.random()-.5)*.3)),w.l=Math.min(.9,Math.max(.5,w.l+(Math.random()-.5)*.4));const M=new At().setHSL(w.h,w.s,w.l);m[k]=M.r,m[k+1]=M.g,m[k+2]=M.b,_[A]=.7+Math.random()*1.1,f[k]=Math.random()*10,f[k+1]=Math.random()*Math.PI*2,f[k+2]=.5+.5*Math.random()}d.setAttribute("position",new Q(p,3)),d.setAttribute("color",new Q(m,3)),d.setAttribute("size",new Q(_,1)),d.setAttribute("random",new Q(f,3));const P=new xt({uniforms:{time:{value:0},hueSpeed:{value:.12}},vertexShader:`
      uniform float time;
      attribute float size;
      attribute vec3 random;
      varying vec3 vCol;
      varying float vR;
      void main(){
        vCol = color;
        vR = random.z;
        vec3 p = position;
        float t = time*.25*random.z;
        float ax = t+random.y, ay = t*.75+random.x;
        float amp = (.6+sin(random.x+t*.6)*.3)*random.z;
        p.x += sin(ax+p.y*.06+random.x*.1)*amp;
        p.y += cos(ay+p.z*.06+random.y*.1)*amp;
        p.z += sin(ax*.85+p.x*.06+random.z*.1)*amp;
        vec4 mv = modelViewMatrix*vec4(p,1.);
        float pulse = .9+.1*sin(time*1.15+random.y);
        gl_PointSize = size*pulse*(350./-mv.z);
        gl_Position = projectionMatrix*mv;
      }
    `,fragmentShader:`
      uniform float time;
      uniform float hueSpeed;
      varying vec3 vCol;
      varying float vR;
      
      vec3 hueShift(vec3 c, float h) {
        const vec3 k = vec3(0.57735);
        float cosA = cos(h);
        float sinA = sin(h);
        return c * cosA + cross(k, c) * sinA + k * dot(k, c) * (1.0 - cosA);
      }
      
      void main() {
        vec2 uv = gl_PointCoord - 0.5;
        float d = length(uv);
        
        float core = smoothstep(0.05, 0.0, d);
        float angle = atan(uv.y, uv.x);
        float flare = pow(max(0.0, sin(angle * 6.0 + time * 2.0 * vR)), 4.0);
        flare *= smoothstep(0.5, 0.0, d);
        float glow = smoothstep(0.4, 0.1, d);
        
        float alpha = core * 1.0 + flare * 0.5 + glow * 0.2;
        
        vec3 color = hueShift(vCol, time * hueSpeed);
        vec3 finalColor = mix(color, vec3(1.0, 0.95, 0.9), core);
        finalColor = mix(finalColor, color, flare * 0.5 + glow * 0.5);
        
        if (alpha < 0.01) discard;
        
        gl_FragColor = vec4(finalColor, alpha);
      }
    `,transparent:!0,depthWrite:!1,vertexColors:!0,blending:Dt});return new Et(d,P)}function W(a){const h=new ft,d=new Float32Array(a*3),p=new Float32Array(a),m=new Float32Array(a*3);for(let f=0;f<a;f++)p[f]=.5+Math.random()*.8,m[f*3]=Math.random()*10,m[f*3+1]=Math.random()*Math.PI*2,m[f*3+2]=.5+.5*Math.random();h.setAttribute("position",new Q(d,3)),h.setAttribute("size",new Q(p,1)),h.setAttribute("random",new Q(m,3));const _=new xt({uniforms:{time:{value:0}},vertexShader:`
      uniform float time;
      attribute float size;
      attribute vec3 random;
      void main() {
        vec3 p = position;
        float t = time * 0.25 * random.z;
        float ax = t + random.y, ay = t * 0.75 + random.x;
        float amp = (0.6 + sin(random.x + t * 0.6) * 0.3) * random.z;
        p.x += sin(ax + p.y * 0.06 + random.x * 0.1) * amp;
        p.y += cos(ay + p.z * 0.06 + random.y * 0.1) * amp;
        p.z += sin(ax * 0.85 + p.x * 0.06 + random.z * 0.1) * amp;
        vec4 mvPosition = modelViewMatrix * vec4(p, 1.0);
        gl_PointSize = size * (300.0 / -mvPosition.z);
        gl_Position = projectionMatrix * mvPosition;
      }
    `,fragmentShader:`
      uniform float time;
      void main() {
        float d = length(gl_PointCoord - vec2(0.5));
        float alpha = 1.0 - smoothstep(0.4, 0.5, d);
        if (alpha < 0.01) discard;
        gl_FragColor = vec4(1.0, 1.0, 1.0, alpha);
      }
    `,transparent:!0,depthWrite:!1,blending:Dt});return new Et(h,_)}async function J(){Y();const{OrbitControls:a}=await lt(()=>Promise.resolve().then(()=>To),void 0,import.meta.url),{EffectComposer:h}=await lt(()=>import("./EffectComposer.b5396623.js"),["./EffectComposer.b5396623.js","./three.module.d82afe78.js","./CopyShader.dda41788.js","./Pass.da57fd65.js"],import.meta.url),{RenderPass:d}=await lt(()=>import("./RenderPass.cfdfd70a.js"),["./RenderPass.cfdfd70a.js","./three.module.d82afe78.js","./Pass.da57fd65.js"],import.meta.url),{UnrealBloomPass:p}=await lt(()=>import("./UnrealBloomPass.bde8ef17.js"),["./UnrealBloomPass.bde8ef17.js","./three.module.d82afe78.js","./Pass.da57fd65.js","./CopyShader.dda41788.js"],import.meta.url),{AfterimagePass:m}=await lt(()=>import("./AfterimagePass.50f0115d.js"),["./AfterimagePass.50f0115d.js","./three.module.d82afe78.js","./Pass.da57fd65.js","./CopyShader.dda41788.js"],import.meta.url),{Clock:_}=await lt(()=>import("./three.module.d82afe78.js").then(k=>k.T),[],import.meta.url);e=new te,o=new ee(60,window.innerWidth/window.innerHeight,40,500),o.position.set(0,0,80),n=new oe({antialias:!0,alpha:!0}),n.setPixelRatio(Math.min(window.devicePixelRatio,2)),n.setSize(window.innerWidth,window.innerHeight);const f=document.getElementById("container");if(f){f.innerHTML="",f.appendChild(n.domElement);const k=f.clientWidth,b=f.clientHeight;o.aspect=k/b,o.updateProjectionMatrix(),n.setSize(k,b)}r=new a(o,n.domElement),r.enablePan=!1,r.enableZoom=!1,r.enableRotate=!1,r.enableDamping=!0,r.dampingFactor=.05,r.screenSpacePanning=!1,r.minDistance=20,r.maxDistance=200,r.target.set(0,0,0),r.autoRotate=!0,r.autoRotateSpeed=.5,y=ot(),e.add(y);const P=[16727160,16747520,16773632,53247,11796735,16777215,16728128].map(k=>new At(k));c=H(nt,P),l=W(Rt),e.add(c),e.add(l),i=new h(n),i.addPass(new d(e,o)),i.addPass(new p(new q(window.innerWidth,window.innerHeight),.45,.5,.85));const A=new m;A.uniforms.damp.value=.92,i.addPass(A),$(x),window.addEventListener("resize",tt),f&&f.addEventListener("click",Z),g=new _}function tt(){if(!o||!n||!i)return;const a=document.getElementById("container");if(a){const h=a.clientWidth,d=a.clientHeight;o.aspect=h/d,o.updateProjectionMatrix(),n.setSize(h,d),i.setSize(h,d)}}function Z(){C||v()}function $(a){if(!c||!l)return;const h=B[a](nt),d=c.geometry.attributes.position.array,p=l.geometry.attributes.position.array;for(let m=0;m<nt;m++){const _=m*3,f=h[m]||new I;d[_]=f.x,d[_+1]=f.y,d[_+2]=f.z,m<Rt&&(p[_]=f.x,p[_+1]=f.y,p[_+2]=f.z)}c.geometry.attributes.position.needsUpdate=!0,l.geometry.attributes.position.needsUpdate=!0}function v(){if(!c||!l)return;C=!0,E=0;const a=(t.getParticles+1)%B.length,h=c.geometry.attributes.position.array.slice(),d=B[a](nt);t.setParticles(a);const p=new Float32Array(nt*3);if(d.length>0){for(let m=0;m<nt;m++){const _=m*3,f=d[m];p[_]=f.x,p[_+1]=f.y,p[_+2]=f.z}c.userData={from:h,to:p,next:a},l.userData={from:h,to:p,next:a}}}function R(){if(L=requestAnimationFrame(R),!g||!c||!l||!i)return;const a=g.getDelta(),h=g.getElapsedTime();if(r&&r.update(),c.material.uniforms&&(c.material.uniforms.time.value=h),l.material.uniforms&&(l.material.uniforms.time.value=h),y.material.uniforms&&(y.material.uniforms.time.value=h),C){E+=ho;const d=E>=1?1:1-Math.pow(1-E,3),{from:p,to:m}=c.userData;if(m){const _=c.geometry.attributes.position.array,f=l.geometry.attributes.position.array;for(let P=0;P<_.length;P++){const A=p[P]+(m[P]-p[P])*d;_[P]=A,P<f.length&&(f[P]=A)}c.geometry.attributes.position.needsUpdate=!0,l.geometry.attributes.position.needsUpdate=!0}E>=1&&(x=c.userData.next,C=!1)}i.render(a)}function Y(){L&&(cancelAnimationFrame(L),L=null),window.removeEventListener("resize",tt);const a=document.getElementById("container");if(a&&a.removeEventListener("click",Z),c&&(c.geometry.dispose(),c.material instanceof Array?c.material.forEach(d=>d.dispose()):c.material&&c.material.dispose()),l&&(l.geometry.dispose(),l.material instanceof Array?l.material.forEach(d=>d.dispose()):l.material&&l.material.dispose()),y&&(y.geometry.dispose(),y.material instanceof Array?y.material.forEach(d=>d.dispose()):y.material&&y.material.dispose()),e)for(;e.children.length>0;)e.remove(e.children[0]);n&&n.dispose(),i&&i.passes.forEach(d=>{d.dispose()});const h=document.getElementById("container");h&&(h.innerHTML="")}return at(()=>{J().then(()=>{R()})}),gt(()=>{Y()}),lo(document,"visibilitychange",()=>{document.hidden?L&&(cancelAnimationFrame(L),L=null):L||R()}),(a,h)=>(z(),U("div",co))}},Vt={type:"change"},zt={type:"start"},re={type:"end"},wt=new we,Xt=new xe,po=Math.cos(70*Ee.DEG2RAD),j=new I,G=2*Math.PI,D={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},It=1e-6;class le extends Pe{constructor(t,e=null){super(t,e),this.state=D.NONE,this.enabled=!0,this.target=new I,this.cursor=new I,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:dt.ROTATE,MIDDLE:dt.DOLLY,RIGHT:dt.PAN},this.touches={ONE:ht.ROTATE,TWO:ht.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new I,this._lastQuaternion=new Wt,this._lastTargetPosition=new I,this._quat=new Wt().setFromUnitVectors(t.up,new I(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new Gt,this._sphericalDelta=new Gt,this._scale=1,this._panOffset=new I,this._rotateStart=new q,this._rotateEnd=new q,this._rotateDelta=new q,this._panStart=new q,this._panEnd=new q,this._panDelta=new q,this._dollyStart=new q,this._dollyEnd=new q,this._dollyDelta=new q,this._dollyDirection=new I,this._mouse=new q,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=fo.bind(this),this._onPointerDown=mo.bind(this),this._onPointerUp=_o.bind(this),this._onContextMenu=Eo.bind(this),this._onMouseWheel=yo.bind(this),this._onKeyDown=vo.bind(this),this._onTouchStart=wo.bind(this),this._onTouchMove=xo.bind(this),this._onMouseDown=bo.bind(this),this._onMouseMove=go.bind(this),this._interceptControlDown=Po.bind(this),this._interceptControlUp=Mo.bind(this),this.domElement!==null&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(t){t.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=t}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(Vt),this.update(),this.state=D.NONE}update(t=null){const e=this.object.position;j.copy(e).sub(this.target),j.applyQuaternion(this._quat),this._spherical.setFromVector3(j),this.autoRotate&&this.state===D.NONE&&this._rotateLeft(this._getAutoRotationAngle(t)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let o=this.minAzimuthAngle,n=this.maxAzimuthAngle;isFinite(o)&&isFinite(n)&&(o<-Math.PI?o+=G:o>Math.PI&&(o-=G),n<-Math.PI?n+=G:n>Math.PI&&(n-=G),o<=n?this._spherical.theta=Math.max(o,Math.min(n,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(o+n)/2?Math.max(o,this._spherical.theta):Math.min(n,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let i=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const r=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),i=r!=this._spherical.radius}if(j.setFromSpherical(this._spherical),j.applyQuaternion(this._quatInverse),e.copy(this.target).add(j),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let r=null;if(this.object.isPerspectiveCamera){const c=j.length();r=this._clampDistance(c*this._scale);const l=c-r;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),i=!!l}else if(this.object.isOrthographicCamera){const c=new I(this._mouse.x,this._mouse.y,0);c.unproject(this.object);const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),i=l!==this.object.zoom;const y=new I(this._mouse.x,this._mouse.y,0);y.unproject(this.object),this.object.position.sub(y).add(c),this.object.updateMatrixWorld(),r=j.length()}else this.zoomToCursor=!1;r!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(r).add(this.object.position):(wt.origin.copy(this.object.position),wt.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(wt.direction))<po?this.object.lookAt(this.target):(Xt.setFromNormalAndCoplanarPoint(this.object.up,this.target),wt.intersectPlane(Xt,this.target))))}else if(this.object.isOrthographicCamera){const r=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),r!==this.object.zoom&&(this.object.updateProjectionMatrix(),i=!0)}return this._scale=1,this._performCursorZoom=!1,i||this._lastPosition.distanceToSquared(this.object.position)>It||8*(1-this._lastQuaternion.dot(this.object.quaternion))>It||this._lastTargetPosition.distanceToSquared(this.target)>It?(this.dispatchEvent(Vt),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(t){return t!==null?G/60*this.autoRotateSpeed*t:G/60/60*this.autoRotateSpeed}_getZoomScale(t){const e=Math.abs(t*.01);return Math.pow(.95,this.zoomSpeed*e)}_rotateLeft(t){this._sphericalDelta.theta-=t}_rotateUp(t){this._sphericalDelta.phi-=t}_panLeft(t,e){j.setFromMatrixColumn(e,0),j.multiplyScalar(-t),this._panOffset.add(j)}_panUp(t,e){this.screenSpacePanning===!0?j.setFromMatrixColumn(e,1):(j.setFromMatrixColumn(e,0),j.crossVectors(this.object.up,j)),j.multiplyScalar(t),this._panOffset.add(j)}_pan(t,e){const o=this.domElement;if(this.object.isPerspectiveCamera){const n=this.object.position;j.copy(n).sub(this.target);let i=j.length();i*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*t*i/o.clientHeight,this.object.matrix),this._panUp(2*e*i/o.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(t*(this.object.right-this.object.left)/this.object.zoom/o.clientWidth,this.object.matrix),this._panUp(e*(this.object.top-this.object.bottom)/this.object.zoom/o.clientHeight,this.object.matrix)):this.enablePan=!1}_dollyOut(t){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=t:this.enableZoom=!1}_dollyIn(t){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=t:this.enableZoom=!1}_updateZoomParameters(t,e){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const o=this.domElement.getBoundingClientRect(),n=t-o.left,i=e-o.top,r=o.width,c=o.height;this._mouse.x=n/r*2-1,this._mouse.y=-(i/c)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(t){return Math.max(this.minDistance,Math.min(this.maxDistance,t))}_handleMouseDownRotate(t){this._rotateStart.set(t.clientX,t.clientY)}_handleMouseDownDolly(t){this._updateZoomParameters(t.clientX,t.clientX),this._dollyStart.set(t.clientX,t.clientY)}_handleMouseDownPan(t){this._panStart.set(t.clientX,t.clientY)}_handleMouseMoveRotate(t){this._rotateEnd.set(t.clientX,t.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const e=this.domElement;this._rotateLeft(G*this._rotateDelta.x/e.clientHeight),this._rotateUp(G*this._rotateDelta.y/e.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(t){this._dollyEnd.set(t.clientX,t.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(t){this._panEnd.set(t.clientX,t.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(t){this._updateZoomParameters(t.clientX,t.clientY),t.deltaY<0?this._dollyIn(this._getZoomScale(t.deltaY)):t.deltaY>0&&this._dollyOut(this._getZoomScale(t.deltaY)),this.update()}_handleKeyDown(t){let e=!1;switch(t.code){case this.keys.UP:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateUp(G*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),e=!0;break;case this.keys.BOTTOM:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateUp(-G*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),e=!0;break;case this.keys.LEFT:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateLeft(G*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),e=!0;break;case this.keys.RIGHT:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateLeft(-G*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),e=!0;break}e&&(t.preventDefault(),this.update())}_handleTouchStartRotate(t){if(this._pointers.length===1)this._rotateStart.set(t.pageX,t.pageY);else{const e=this._getSecondPointerPosition(t),o=.5*(t.pageX+e.x),n=.5*(t.pageY+e.y);this._rotateStart.set(o,n)}}_handleTouchStartPan(t){if(this._pointers.length===1)this._panStart.set(t.pageX,t.pageY);else{const e=this._getSecondPointerPosition(t),o=.5*(t.pageX+e.x),n=.5*(t.pageY+e.y);this._panStart.set(o,n)}}_handleTouchStartDolly(t){const e=this._getSecondPointerPosition(t),o=t.pageX-e.x,n=t.pageY-e.y,i=Math.sqrt(o*o+n*n);this._dollyStart.set(0,i)}_handleTouchStartDollyPan(t){this.enableZoom&&this._handleTouchStartDolly(t),this.enablePan&&this._handleTouchStartPan(t)}_handleTouchStartDollyRotate(t){this.enableZoom&&this._handleTouchStartDolly(t),this.enableRotate&&this._handleTouchStartRotate(t)}_handleTouchMoveRotate(t){if(this._pointers.length==1)this._rotateEnd.set(t.pageX,t.pageY);else{const o=this._getSecondPointerPosition(t),n=.5*(t.pageX+o.x),i=.5*(t.pageY+o.y);this._rotateEnd.set(n,i)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const e=this.domElement;this._rotateLeft(G*this._rotateDelta.x/e.clientHeight),this._rotateUp(G*this._rotateDelta.y/e.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(t){if(this._pointers.length===1)this._panEnd.set(t.pageX,t.pageY);else{const e=this._getSecondPointerPosition(t),o=.5*(t.pageX+e.x),n=.5*(t.pageY+e.y);this._panEnd.set(o,n)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(t){const e=this._getSecondPointerPosition(t),o=t.pageX-e.x,n=t.pageY-e.y,i=Math.sqrt(o*o+n*n);this._dollyEnd.set(0,i),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const r=(t.pageX+e.x)*.5,c=(t.pageY+e.y)*.5;this._updateZoomParameters(r,c)}_handleTouchMoveDollyPan(t){this.enableZoom&&this._handleTouchMoveDolly(t),this.enablePan&&this._handleTouchMovePan(t)}_handleTouchMoveDollyRotate(t){this.enableZoom&&this._handleTouchMoveDolly(t),this.enableRotate&&this._handleTouchMoveRotate(t)}_addPointer(t){this._pointers.push(t.pointerId)}_removePointer(t){delete this._pointerPositions[t.pointerId];for(let e=0;e<this._pointers.length;e++)if(this._pointers[e]==t.pointerId){this._pointers.splice(e,1);return}}_isTrackingPointer(t){for(let e=0;e<this._pointers.length;e++)if(this._pointers[e]==t.pointerId)return!0;return!1}_trackPointer(t){let e=this._pointerPositions[t.pointerId];e===void 0&&(e=new q,this._pointerPositions[t.pointerId]=e),e.set(t.pageX,t.pageY)}_getSecondPointerPosition(t){const e=t.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[e]}_customWheelEvent(t){const e=t.deltaMode,o={clientX:t.clientX,clientY:t.clientY,deltaY:t.deltaY};switch(e){case 1:o.deltaY*=16;break;case 2:o.deltaY*=100;break}return t.ctrlKey&&!this._controlActive&&(o.deltaY*=10),o}}function mo(s){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(s.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(s)&&(this._addPointer(s),s.pointerType==="touch"?this._onTouchStart(s):this._onMouseDown(s)))}function fo(s){this.enabled!==!1&&(s.pointerType==="touch"?this._onTouchMove(s):this._onMouseMove(s))}function _o(s){switch(this._removePointer(s),this._pointers.length){case 0:this.domElement.releasePointerCapture(s.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(re),this.state=D.NONE;break;case 1:const t=this._pointers[0],e=this._pointerPositions[t];this._onTouchStart({pointerId:t,pageX:e.x,pageY:e.y});break}}function bo(s){let t;switch(s.button){case 0:t=this.mouseButtons.LEFT;break;case 1:t=this.mouseButtons.MIDDLE;break;case 2:t=this.mouseButtons.RIGHT;break;default:t=-1}switch(t){case dt.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(s),this.state=D.DOLLY;break;case dt.ROTATE:if(s.ctrlKey||s.metaKey||s.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(s),this.state=D.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(s),this.state=D.ROTATE}break;case dt.PAN:if(s.ctrlKey||s.metaKey||s.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(s),this.state=D.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(s),this.state=D.PAN}break;default:this.state=D.NONE}this.state!==D.NONE&&this.dispatchEvent(zt)}function go(s){switch(this.state){case D.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(s);break;case D.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(s);break;case D.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(s);break}}function yo(s){this.enabled===!1||this.enableZoom===!1||this.state!==D.NONE||(s.preventDefault(),this.dispatchEvent(zt),this._handleMouseWheel(this._customWheelEvent(s)),this.dispatchEvent(re))}function vo(s){this.enabled!==!1&&this._handleKeyDown(s)}function wo(s){switch(this._trackPointer(s),this._pointers.length){case 1:switch(this.touches.ONE){case ht.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(s),this.state=D.TOUCH_ROTATE;break;case ht.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(s),this.state=D.TOUCH_PAN;break;default:this.state=D.NONE}break;case 2:switch(this.touches.TWO){case ht.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(s),this.state=D.TOUCH_DOLLY_PAN;break;case ht.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(s),this.state=D.TOUCH_DOLLY_ROTATE;break;default:this.state=D.NONE}break;default:this.state=D.NONE}this.state!==D.NONE&&this.dispatchEvent(zt)}function xo(s){switch(this._trackPointer(s),this.state){case D.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(s),this.update();break;case D.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(s),this.update();break;case D.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(s),this.update();break;case D.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(s),this.update();break;default:this.state=D.NONE}}function Eo(s){this.enabled!==!1&&s.preventDefault()}function Po(s){s.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function Mo(s){s.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}const To=Object.freeze(Object.defineProperty({__proto__:null,OrbitControls:le},Symbol.toStringTag,{value:"Module"})),So=ut({__name:"GridSphere",props:{data:{default:null}},setup(s){const t=s,e=N(null);let o,n,i,r,c,l,y,g,x,C=new I,E=[];const L=N(!0),O=N(4e-4);let S=[],F=null;const it=()=>{const H=e.value,W=H.clientWidth||window.innerWidth,J=H.clientHeight||window.innerHeight;o=new oe({antialias:!0,alpha:!0}),o.setPixelRatio(window.devicePixelRatio||1),o.setSize(W,J),H.appendChild(o.domElement),n=new te,i=new ee(40,W/J,1,5e3),i.position.set(0,0,1200),r=new le(i,o.domElement),r.enableDamping=!0,r.enablePan=!1,r.minDistance=600,r.maxDistance=2500,r.autoRotate=!1,r.enableRotate=!1,r.enableZoom=!1,n.add(new Me(16777215,.2));const tt=new Te(16777215,.9);tt.position.set(800,600,800),n.add(tt),l=new Ct,n.add(l);const Z=350,$=12,v=12,R=Z*.95,Y=.5,a=160,h=[];for(let b=0;b<$;b++){const w=b/$*Math.PI*2,M=[];for(let Mt=0;Mt<v;Mt++){const Ut=Mt/v*Math.PI*2,Ht=R*Math.sin(Ut),ce=Z*Math.cos(Ut),$t=Ht*Math.cos(w),Ft=ce,Yt=Ht*Math.sin(w);M.push(new I($t,Ft,Yt)),h.push($t,Ft,Yt)}const X=new Se(M,!0,"catmullrom",.6),st=new Ae(X,a,Y,6,!0),rt=new Kt({color:"#333",transparent:!0,opacity:1}),vt=new Zt(st,rt);l.add(vt)}function d(b=32){const w=document.createElement("canvas");w.width=w.height=b;const M=w.getContext("2d"),X=M.createRadialGradient(b/2,b/2,0,b/2,b/2,b/2);X.addColorStop(0,"#6E6E6E"),X.addColorStop(1,"black"),M.clearRect(0,0,b,b),M.beginPath(),M.arc(b/2,b/2,b/2,0,Math.PI*2),M.closePath(),M.fillStyle=X,M.fill();const st=new Ie(w);return st.needsUpdate=!0,st}const p=new ft;p.setAttribute("position",new Q(h,3));const m=new De({size:13,sizeAttenuation:!0,transparent:!0,opacity:100,map:d(),depthTest:!1,depthWrite:!1}),_=new Et(p,m);_.renderOrder=1100,l.add(_),et(),g=new Ct;for(let b=0;b<h.length;b+=3){const w=new I(h[b],h[b+1],h[b+2]),M=new xt({uniforms:{time:{value:0}},vertexShader:`
    varying vec3 vPosition;
    void main() {
      vPosition = position;
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
  `,fragmentShader:`
    uniform float time;
    varying vec3 vPosition;
    
    void main() {
      float t = sin(time + vPosition.x * 0.01 + vPosition.y * 0.01) * 0.5 + 0.5;
      
      // #fff -> #000
      vec3 color1 = vec3(1.0, 1.0, 1.0); 
      vec3 color2 = vec3(0.0, 0.0, 0.0);  
      
      vec3 finalColor = mix(color1, color2, t);
      
      gl_FragColor = vec4(finalColor, 1.0);
    }
  `,transparent:!0}),X=[];for(let vt=0;vt<50;vt++)X.push(w.clone());const st=new ft().setFromPoints(X),rt=new Ce(st,M);E.push({line:rt,startPoint:w.clone(),material:M,points:X}),g.add(rt)}n.add(g),x=new Ct,l.add(x);const f=13,P=12,A=64,k=new ke(f,P,A);k.rotateX(Math.PI/2);for(let b=0;b<h.length;b+=3){const w=new Kt({color:"#ffffff",transparent:!0,opacity:.9,side:Re,depthTest:!1}),M=new Zt(k.clone(),w);M.position.set(h[b],h[b+1],h[b+2]),M.visible=!1,M.renderOrder=1e3,M.geometry.setDrawRange(0,0),S.push(M),x.add(M)}l.rotation.x=.9,l.rotation.y=.78,y=()=>{const b=H.clientWidth||window.innerWidth,w=H.clientHeight||window.innerHeight;et(b,w),i.aspect=b/w,i.updateProjectionMatrix(),o.setSize(b,w)},window.addEventListener("resize",y),B()};function et(H,W){const J=e.value,tt=H||J.clientWidth||window.innerWidth,Z=W||J.clientHeight||window.innerHeight,$=195,v=i.aspect||tt/Z,R=i.fov*(Math.PI/180),Y=i.position.z,a=Math.tan(R/2)*Y,h=a*v;C.set(h,a-$/Z*(a*2),0)}const B=()=>{c=requestAnimationFrame(B),r.update(),l&&L.value&&(l.rotation.y+=O.value),o.render(n,i)};Pt(()=>t.data,()=>{if(!F&&E.length>0){const H=Math.floor(Math.random()*E.length);F=E[H];const W=S[H];W&&(W.visible=!0,W.geometry.setDrawRange(0,0))}});const ot=()=>{cancelAnimationFrame(c),window.removeEventListener("resize",y),o&&(o.dispose(),e.value&&o.domElement.parentNode===e.value&&e.value.removeChild(o.domElement))};return at(async()=>{await qt(),it()}),gt(()=>{ot()}),(H,W)=>(z(),U("div",{ref_key:"container",ref:e,class:"h-full w-full absolute top-[50%] -translate-y-1/2 left-1/2 -translate-x-1/2 z-[99] pointer-events-none"},null,512))}});const Ao=yt(So,[["__scopeId","data-v-b303c532"]]),Do=s=>(Nt("data-v-1f84e934"),s=s(),jt(),s),Co=["height","viewBox"],ko=["cx","cy","r"],Ro=Do(()=>u("linearGradient",{id:"blackWhiteGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%"},[u("stop",{offset:"0%","stop-color":"white"}),u("stop",{offset:"100%","stop-color":"black"})],-1)),Io=["cx","cy"],Lo=["x","y"],Oo=ut({__name:"EmotionalCircle",setup(s){const t=["Anxiety","Envy","Jealousy","Loneliness","Despair","Contempt","Pride","Anguish","Panic","Boredom","Resentment","Frustration","Regret","Humiliation","Joy","Gratitude","Love","Excitement","Hope","Serenity","Pleasure","Amusement","Interest","Optimism","Anger","Awe","Ambivalence","Relief","Compassion","Infatuation","Elation","Surprise","Curiosity","Anticipation","Ambivalence","Confusion","Nostalgia","Detachment","Sadness","Contentment","Shame","Fear"],e=N(null),o=N(0),n=mt(()=>o.value/2),i=mt(()=>o.value*.45),r=mt(()=>o.value*.035),c=t.length,l=N(0),y=()=>{if(e.value){const E=Math.min(e.value.clientWidth,e.value.clientHeight);o.value=E}};at(async()=>{await qt(),y(),window.addEventListener("resize",y);const E=()=>{l.value=(l.value+.025)%360,requestAnimationFrame(E)};E()}),gt(()=>{window.removeEventListener("resize",y)});const g=E=>E*Math.PI/180,x=E=>{const O=E/c*360-90+l.value,S=g(O);return{x:n.value+i.value*Math.cos(S),y:n.value+i.value*Math.sin(S)}},C=E=>{const O=E/c*360-90+l.value,S=g(O),F=n.value+(i.value+r.value)*Math.cos(S),it=n.value+(i.value+r.value)*Math.sin(S),et=Math.cos(S),B=Math.abs(et),ot=Math.max(0,Math.min(1,(B-.8)/.2)),H=B>.8?(et>0?10:-25)*ot:0;return{x:F+H+10,y:it}};return(E,L)=>(z(),U("div",{ref_key:"circleRef",ref:e,class:"w-[100%] h-full absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 z-20 rotate-animation pointer-events-none"},[(z(),U("svg",{width:"100%",height:T(o),viewBox:`0 0 ${T(o)} ${T(o)}`,class:"wheel"},[u("circle",{cx:T(n),cy:T(n),r:T(i),fill:"none",stroke:"#333","stroke-width":"1"},null,8,ko),Ro,(z(),U(_t,null,bt(t,(O,S)=>u("g",{key:S},[u("circle",{cx:x(S).x,cy:x(S).y,r:"0.23vw",fill:"url(#blackWhiteGradient)"},null,8,Io),u("text",{x:C(S).x,y:C(S).y,fill:"#ebebeba9","font-size":"0.45vw","text-anchor":"middle","alignment-baseline":"middle","font-family":"sans-serif"},K(O),9,Lo)])),64))],8,Co))],512))}});const No=yt(Oo,[["__scopeId","data-v-1f84e934"]]),jo=()=>_e("/api/sse/connections"),zo={class:"w-full max-w-md bg-black border border-[#2b2b2b59] p-1 shadow-2xl relative"},Uo={class:"grid grid-cols-2 gap-2 mb-3 px-2"},Ho={class:"flex flex-col p-2 border-l-2 border-[#2b2b2b59] bg-[#0a0a0a]"},$o=u("span",{class:"text-[#ebebebc8] font-mono text-[10px] tracking-widest uppercase mb-1"},"TOTAL USERS",-1),Fo={class:"text-2xl font-light text-gray-200"},Yo={class:"flex flex-col p-2 border-l-2 border-[#2b2b2b59] bg-[#0a0a0a]"},Bo=u("span",{class:"text-[#ebebebc8] font-mono text-[10px] tracking-widest uppercase mb-1"},"ON-CHAIN",-1),Wo={class:"text-2xl font-light text-gray-200"},Go={class:"px-2"},Ko={class:"flex justify-between items-center py-2 px-2 border-b border-[#2b2b2b59] space-x-3"},Zo=u("span",{class:"text-[#ebebebc8] font-mono text-xs tracking-widest uppercase"},"BLOCKCHAIN",-1),Vo={class:"font-mono text-gray-300 u-line-1"},Xo={class:"flex justify-between items-center py-2 px-2 border-b border-[#2b2b2b59]"},qo=u("span",{class:"text-[#ebebebc8] font-mono text-xs tracking-widest uppercase"},"CONTRACT",-1),Qo={class:"flex justify-between items-center py-2 px-2 border-b border-[#2b2b2b59]"},Jo=u("span",{class:"text-[#ebebebc8] font-mono text-xs tracking-widest uppercase"},"SOUL POINTS (TOTAL)",-1),ts={class:"font-mono text-white font-bold text-lg"},es={class:"flex justify-between items-center py-2 px-2 border-b border-[#2b2b2b59]"},os=u("span",{class:"text-[#ebebebc8] font-mono text-xs tracking-widest uppercase"},"SOUL POINTS (24H)",-1),ss={class:"font-mono text-gray-300"},ns={class:"flex justify-between items-center py-2 px-2 border-b border-[#2b2b2b59]"},is=u("span",{class:"text-[#ebebebc8] font-mono text-xs tracking-widest uppercase"},"POSITIVE RATIO",-1),as={class:"font-mono text-gray-300"},rs={class:"flex justify-between items-center py-2 px-2"},ls=u("span",{class:"text-[#ebebebc8] font-mono text-xs tracking-widest uppercase"},"NEGATIVE RATIO",-1),cs={class:"font-mono text-gray-300"},hs=ut({__name:"Emocooros",setup(s){const t=Qt(),e=mt(()=>{var r,c,l;var i="";return(r=t.getWeb3ConfigItem)!=null&&r.explorer?i=(c=t.getWeb3ConfigItem)==null?void 0:c.explorer:i="https://base-sepolia.blockscout.com",`${i}/address/${(l=t.getWeb3ConfigItem)==null?void 0:l.emotion3}`}),o=N(null),n=async()=>{try{const i=await jo();o.value=i.date}catch{}};return at(()=>{n()}),(i,r)=>{var l,y,g,x,C,E,L;const c=se;return z(),U("div",zo,[u("div",Uo,[u("div",Ho,[$o,u("span",Fo,K(((l=T(o))==null?void 0:l.total_users)||"*"),1)]),u("div",Yo,[Bo,u("span",Wo,K(("formatNumber"in i?i.formatNumber:T(kt))((y=T(o))==null?void 0:y.total_deeptrain)||"*"),1)])]),u("div",Go,[u("div",Ko,[Zo,u("span",Vo,K(((g=T(t).getWeb3ConfigItem)==null?void 0:g.network)||"*"),1)]),u("div",Xo,[qo,V(c,{to:T(e),target:"_blank",rel:"noopener",class:"font-mono text-gray-300 hover:underline"},{default:ct(()=>{var O;return[Jt(K(("stringStar"in i?i.stringStar:T(ne))({value:((O=T(t).getWeb3ConfigItem)==null?void 0:O.emotion3)||"*",characters:"***",start:4,end:3})),1)]}),_:1},8,["to"])]),u("div",Qo,[Jo,u("span",ts,K(("formatNumber"in i?i.formatNumber:T(kt))((x=T(o))==null?void 0:x.total_souls)||"*"),1)]),u("div",es,[os,u("span",ss,K(("formatNumber"in i?i.formatNumber:T(kt))((C=T(o))==null?void 0:C.today_souls)||"*"),1)]),u("div",ns,[is,u("span",as,K(((E=T(o))==null?void 0:E.positive_percentage)||"*")+"%",1)]),u("div",rs,[ls,u("span",cs,K(((L=T(o))==null?void 0:L.negative_percentage)||"*")+"%",1)])])])}}}),ds=s=>(Nt("data-v-1a22e842"),s=s(),jt(),s),us={class:"space-y-[120px] relative"},ps={class:"w-full h-[90vh] flex flex-col items-center adaptation-padding overflow-hidden"},ms={class:"w-full flex-1 relative bg-black text-white overflow-hidden flex items-start justify-between py-10"},fs={class:"flex-1 aspect-[1/0.7] relative"},_s={class:"w-[65%] aspect-[1/1] overflow-hidden rounded-full absolute top-[45%] -translate-y-1/2 left-[50%] -translate-x-1/2 flex items-center justify-center"},bs={class:"w-[260px] h-full space-y-3 flex flex-col overflow-auto relative z-10"},gs={class:"w-full flex-1 overflow-auto"},ys={class:"w-full h-full"},vs={class:"flex items-center space-x-2"},ws={key:0,class:"w-2 h-2 rounded-full bg-gradient-to-br from-white via-[#ebebeb] to-black"},xs={class:"w-[50px] font-mono block text-slide-down"},Es=ds(()=>u("span",{class:"w-[2px] h-[12px] bg-[#ebebeb57] mx-2 inline-block text-slide-down"},null,-1)),Ps=6e4,Ms=6e5,Ts=3e3,Ss=20,As=ut({__name:"index",setup(s){const t=Qt(),e=N(null),o=N(null),n=N([]),i=Ot(),r=N(null),c=N(),l="https://api.aigaea.net";let y=null,g=null;const x=N(null);let C=null;const E=N(null),L=N(!0),O=N([]);let S=null;Pt(()=>{var v;return(v=i.getUserInfo)==null?void 0:v.uid},v=>{!Le(v)&&n.value.length===0&&tt()});const F=N([]),it=mt(()=>v=>{var Y,a;var R="";return(Y=t.getWeb3ConfigItem)!=null&&Y.explorer?R=(a=t.getWeb3ConfigItem)==null?void 0:a.explorer:R="https://base-sepolia.blockscout.com",`${R}/tx/${v}`}),et=v=>{o.value=v,e.value=o.value,setTimeout(()=>{n.value.unshift(o.value),n.value.length>50&&(n.value=n.value.slice(0,10))},700)},B=()=>{if(F.value.length>0){const v=F.value.shift();n.value.some(R=>R.id===v.id)||et(v)}F.value.length>0?x.value=setTimeout(B,5e3):x.value=null},ot=()=>{L.value&&(L.value=!1,S&&(clearTimeout(S),S=null),n.value=O.value.slice(0,50),O.value=[])},H=()=>{S&&clearTimeout(S),S=window.setTimeout(()=>{L.value&&O.value.length>0&&ot()},Ts)},W=v=>{L.value?(Array.isArray(v)?O.value.push(...v):v.id&&O.value.splice(0,0,v),O.value.length>=Ss&&ot()):(Array.isArray(v)?v.forEach(R=>{R.id&&!F.value.some(Y=>Y.id===R.id)&&F.value.push(R)}):v.id&&!F.value.some(R=>R.id===v.id)&&F.value.push(v),F.value.length>0&&!x.value&&(x.value=setTimeout(B,2e3)))},J=()=>{C&&clearTimeout(C),C=window.setTimeout(()=>{c.value==="disconnected"&&tt()},300),y&&clearTimeout(y),y=window.setTimeout(()=>{Z()},Ps)},tt=()=>{r.value&&r.value.close();let v=0;const R=2,Y=5e3,a=()=>{var h;try{r.value=new EventSource(`${l}/api2/stream/${((h=i.getUserInfo)==null?void 0:h.uid)||0}`),g&&clearTimeout(g),g=window.setTimeout(()=>{Z()},Ms),r.value.onopen=function(d){c.value="connected",v=0,H(),$&&(clearTimeout($),$=null)},r.value.onmessage=function(d){try{const p=JSON.parse(d.data);Array.isArray(p)?p.forEach(m=>{m.id&&W(m)}):p.id&&W(p)}catch{}},r.value.onerror=function(d){if(r.value&&(r.value.close(),r.value=null),v++,v>=R){c.value="";return}$=window.setTimeout(a,Y)}}catch{if(v++,v>=R){c.value="";return}$=window.setTimeout(a,Y)}};a()},Z=()=>{r.value&&(r.value.close(),r.value=null,c.value="disconnected"),x.value&&(clearTimeout(x.value),x.value=null),F.value=[],$&&(clearTimeout($),$=null),S&&(clearTimeout(S),S=null),L.value=!0,O.value=[]};let $=null;return at(()=>{tt(),window.addEventListener("mousemove",J),J(),E.value&&(E.value.playbackRate=.5)}),gt(()=>{C&&clearTimeout(C),window.removeEventListener("mousemove",J),y&&clearTimeout(y),g&&clearTimeout(g),x.value&&clearTimeout(x.value),$&&clearTimeout($),S&&clearTimeout(S),Z()}),be((v,R)=>(Z(),!0)),(v,R)=>{const Y=He,a=oo,h=uo,d=Ao,p=No,m=hs,_=se,f=Oe;return z(),U("div",us,[u("div",ps,[V(Y),u("div",ms,[V(a),u("div",fs,[u("div",_s,[V(h)]),V(d,{data:T(e)},null,8,["data"]),V(p)]),u("div",bs,[V(m),u("div",gs,[u("div",ys,[V(ge,{name:"block-list",tag:"div"},{default:ct(()=>[(z(!0),U(_t,null,bt(T(n),(P,A)=>(z(),U("div",{key:P.id,class:"h-fit flex bg-black z-[99] relative items-center justify-between px-3 py-2 mb-2 rounded-lg border border-[#2b2b2b] block-list-item text-[#ebebeba9] hover:text-[#EBEBEB] text-[12px]"},[V(St,{name:"text",appear:""},{default:ct(()=>[u("div",vs,[A==0?(z(),U("div",ws)):(z(),U("div",{key:1,class:"w-2 h-2 rounded-full border border-[#EBEBEB]",style:Lt({width:"8px",height:"8px",boxShadow:"0 0 4px rgba(255, 255, 255, 0.3)",opacity:1-A*.05})},null,4)),u("div",xs,K(("getStringByNumber"in v?v.getStringByNumber:T(Ne))(P.emotion)),1)])]),_:2},1024),V(St,{name:"text",appear:""},{default:ct(()=>[Es]),_:1}),V(St,{name:"text",appear:""},{default:ct(()=>[V(_,{to:`${T(it)(P.hash)}`,target:"_blank",rel:"noopener",class:"flex-1 font-mono truncate block text-slide-down"},{default:ct(()=>[Jt(K(("stringStar"in v?v.stringStar:T(ne))({value:P.hash,characters:"***",start:12,end:7})),1)]),_:2},1032,["to"])]),_:2},1024)]))),128))]),_:1})])])])])]),V(f)])}}});const Ns=yt(As,[["__scopeId","data-v-1a22e842"]]);export{Ns as default};
