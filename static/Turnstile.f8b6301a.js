import{b as c}from"./utils.6576f7a5.js";import{d as l,r as d,h as u,n as p,i as _,o as m,c as f}from"./entry.f105df37.js";import{_ as w}from"./plugin-vueexport-helper.c27b6911.js";const h=["id"],k=l({__name:"Turnstile",props:{id:{default:"example-container"}},emits:["toUpdate"],setup(r,{emit:s}){const n=r;d();const a=e=>new Promise((o,i)=>{const t=document.createElement("script");t.src=e,t.defer=!0,t.onload=()=>o(!0),t.onerror=()=>i(new Error("Script load error")),document.body.appendChild(t)});return u(async()=>{await p();try{await a("https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onloadTurnstileCallback"),window.onloadTurnstileCallback=function(){window.turnstile&&window.turnstile.render(`#${n.id}`,{sitekey:c(),language:"en",theme:"dark",callback:function(e){s("toUpdate",e)}})}}catch(e){e instanceof Error&&e.message.includes("401")}}),_(()=>{const e=document.getElementById(n.id);e&&(e.innerHTML=""),delete window.onloadTurnstileCallback}),(e,o)=>(m(),f("div",{id:`${n.id}`,class:"w-full turnstile h-[68px] flex items-center justify-center"},null,8,h))}});const T=w(k,[["__scopeId","data-v-ee6803b8"]]);export{T as _};
