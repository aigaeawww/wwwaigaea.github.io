import{_ as T,b as k,c as N,d as z}from"./el-pagination.01abb38e.js";import{E as L,_ as J}from"./el-overlay.1d307549.js";import{d as V,z as A,r as f,J as b,o as c,C as _,x as l,v as i,b as p,D as I,e as o,B as E,t as P,c as $,cB as j}from"./entry.f105df37.js";import"./el-checkbox.00032e92.js";import"./el-popper.ac949242.js";import"./el-input.b010e971.js";import{v as q}from"./el-loading.ce515ce7.js";import{u as F}from"./dict.6e5b07a6.js";import{_ as G}from"./plugin-vueexport-helper.c27b6911.js";import"./use-form-item.ecbcfbcd.js";import"./verification.fd8b49e2.js";import"./debounce.e1ecbbcb.js";import"./validator.59a6b518.js";import"./commonjsHelpers.042e6b4d.js";import"./-initCloneObject.0972cb9e.js";const H={class:"max-h-[90vh] overflow-hidden flex flex-col"},K={class:"w-full mt-4"},M={key:0,class:"w-full flex items-center justify-end mt-4 px-10"},Q=V({__name:"UsdRecord",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog"],setup(W,{emit:v}){const x=A(),y=f([]),n=f(!1),t=b({page:1,limit:10}),a=b(JSON.parse(localStorage.getItem("TABLE_USD_RECORD")||JSON.stringify({content:[],totalElements:0}))),g=()=>{t.page=1,t.limit=10,a.content=[],a.totalElements=0,v("update:closeDialog")},h=e=>{t.page=e,d()},D=e=>{t.limit=e,d()},C=()=>{a.content=JSON.parse(localStorage.getItem("TABLE_USD_RECORD")||"[]").content,a.totalElements=JSON.parse(localStorage.getItem("TABLE_USD_RECORD")||"[]").totalElements,d()},d=async()=>{try{if(!x.getToken)return;if(y.value){n.value=!0;const e=await j(t.page,t.limit);n.value=!1,e&&e&&e.code===200&&(a.content=e.data,a.totalElements=e.total,localStorage.setItem("TABLE_USD_RECORD",JSON.stringify({content:e.data,totalElements:e.total})))}}catch{n.value=!1}};return(e,r)=>{const S=T,m=k,R=N,w=z,U=L,B=J,O=q;return c(),_(B,null,{default:l(()=>[i(U,{class:"border-box",draggable:"","model-value":e.$props.dialogVisible,"show-close":!1,width:"750px",style:{background:"rgba(255, 255, 255, 0.08)","backdrop-filter":"blur(15px)",border:"none","border-radius":"10px","padding-bottom":"10px"},"align-center":"",onClose:g,onOpen:C},{default:l(()=>{var u;return[p("span",{class:"iconfont icon-del text-sm absolute top-5 right-5 text-[#EDEDED] cursor-pointer",onClick:g}),p("div",H,[p("div",K,[I((c(),_(R,{data:o(a).content,style:{width:"100%"},"max-height":"400px"},{empty:l(()=>[o(n)?E("",!0):(c(),_(S,{key:0,title:"No records available at the moment"}))]),default:l(()=>[i(m,{prop:"updated",label:"Date","min-width":"130px",align:"center"}),i(m,{prop:"type",label:"Type","min-width":"130px",align:"center"},{default:l(s=>[p("span",null,P(("usdRecordType"in e?e.usdRecordType:o(F))(s.row.type)),1)]),_:1}),i(m,{prop:"usd",label:"Usd","min-width":"130px",align:"center"})]),_:1},8,["data"])),[[O,o(n)]])]),((u=o(a).content)==null?void 0:u.length)!==0?(c(),$("div",M,[i(w,{"current-page":o(t).page,"onUpdate:currentPage":r[0]||(r[0]=s=>o(t).page=s),background:"",size:"small","page-size":o(t).limit,"onUpdate:pageSize":r[1]||(r[1]=s=>o(t).limit=s),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:o(a).totalElements,onCurrentChange:h,onSizeChange:D},null,8,["current-page","page-size","total"])])):E("",!0)])]}),_:1},8,["model-value"])]),_:1})}}});const me=G(Q,[["__scopeId","data-v-e310e137"]]);export{me as default};
