import{_ as P,b as U,c as R,d as S}from"./el-pagination.01abb38e.js";import{E as H,_ as L}from"./el-overlay.1d307549.js";import{d as O,r as f,z as $,J as b,o as m,C as _,x as l,v as s,b as r,D as j,e as o,B as v,t as x,c as A}from"./entry.f105df37.js";import"./el-checkbox.00032e92.js";import"./el-popper.ac949242.js";import"./el-input.b010e971.js";import{v as I}from"./el-loading.ce515ce7.js";import{i as J}from"./utils.6576f7a5.js";import{e as Q}from"./ticket.659f1e5e.js";import{_ as q}from"./plugin-vueexport-helper.c27b6911.js";import"./use-form-item.ecbcfbcd.js";import"./verification.fd8b49e2.js";import"./debounce.e1ecbbcb.js";import"./validator.59a6b518.js";import"./commonjsHelpers.042e6b4d.js";import"./-initCloneObject.0972cb9e.js";const F={class:"max-h-[90vh] overflow-hidden flex flex-col mt-5"},G={class:"w-full mt-4"},K={key:0,class:"w-full flex items-center justify-end mt-4 px-10"},M=O({__name:"TicketRecord",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog"],setup(W,{emit:h}){const y=f([]),i=f(!1),k=$(),t=b({page:1,limit:10}),a=b({content:[],totalElements:0}),u=()=>{t.page=1,t.limit=10,a.content=[],a.totalElements=0,h("update:closeDialog")},w=e=>{t.page=e,d()},E=e=>{t.limit=e,d()},C=()=>{d()},d=async()=>{try{if(J(k.getToken))return;if(y.value){i.value=!0;const e=await Q(t.page,t.limit);i.value=!1,e&&e&&e.code===200&&(a.content=e.data,a.totalElements=e.total)}}catch{i.value=!1}};return(e,c)=>{const D=P,p=U,z=R,B=S,T=H,V=L,N=I;return m(),_(V,null,{default:l(()=>[s(T,{class:"border-box",draggable:"","model-value":e.$props.dialogVisible,"show-close":!1,width:"750px",style:{background:"rgba(255, 255, 255, 0.08)","backdrop-filter":"blur(15px)",border:"none","border-radius":"10px","padding-bottom":"10px"},"align-center":"",onClose:u,onOpen:C},{default:l(()=>{var g;return[r("span",{class:"iconfont icon-del text-sm absolute top-5 right-5 text-[#EDEDED] cursor-pointer",onClick:u}),r("div",F,[r("div",G,[j((m(),_(z,{data:o(a).content,style:{width:"100%"},"max-height":"400px"},{empty:l(()=>[o(i)?v("",!0):(m(),_(D,{key:0,title:"No records available at the moment"}))]),default:l(()=>[s(p,{prop:"date",label:"Date","min-width":"130px",align:"center"}),s(p,{prop:"level",label:"Level","min-width":"130px",align:"center"},{default:l(n=>[r("span",null,x(n.row.level),1)]),_:1}),s(p,{prop:"ticket",label:"Quantity","min-width":"130px",align:"center"}),s(p,{prop:"usd",label:"Usd","min-width":"130px",align:"center"},{default:l(n=>[r("span",null,x(n.row.usd/1e6),1)]),_:1})]),_:1},8,["data"])),[[N,o(i)]])]),((g=o(a).content)==null?void 0:g.length)!==0?(m(),A("div",K,[s(B,{"current-page":o(t).page,"onUpdate:currentPage":c[0]||(c[0]=n=>o(t).page=n),background:"",size:"small","page-size":o(t).limit,"onUpdate:pageSize":c[1]||(c[1]=n=>o(t).limit=n),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:o(a).totalElements,onCurrentChange:w,onSizeChange:E},null,8,["current-page","page-size","total"])])):v("",!0)])]}),_:1},8,["model-value"])]),_:1})}}});const _e=q(M,[["__scopeId","data-v-3f349d3b"]]);export{_e as default};
